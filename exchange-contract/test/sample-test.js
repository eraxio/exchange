const { expect } = require("chai");


//注册
//await eraxProxyRegistry.connect(addr1).registerProxy();
//await eraxProxyRegistry.connect(addr2).registerProxy();


//const ownableDelegateProxy1Addr = await eraxProxyRegistry.proxies(addr1.address);
//const ownableDelegateProxy2Addr = await eraxProxyRegistry.proxies(addr2.address);


//console.log("ownableDelegateProxy1 address:", ownableDelegateProxy1Addr);
//console.log("ownableDelegateProxy2 address:", ownableDelegateProxy2Addr);

//const ownableDelegateProxy1 = await ethers.getContractAt("OwnableDelegateProxy", ownableDelegateProxy1Addr);
//const ownableDelegateProxy2 = await ethers.getContractAt("OwnableDelegateProxy", ownableDelegateProxy2Addr);

// console.log("ownableDelegateProxy1:", ownableDelegateProxy1);
// console.log("ownableDelegateProxy2:", ownableDelegateProxy2);


//await testExchange.test(eraxExchange.address, "0xab834bab0000000000000000000000007be8076f4ea4a4ad08075c2508e481d6c946d12b0000000000000000000000000f692f4a862679008bbf48cc0a7abdff12908f7900000000000000000000000021b418dc4d87f88fa2602f92b1ea37c0ef28d64a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000495f947276749ce646f68ac8c248420045cb7b5e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007be8076f4ea4a4ad08075c2508e481d6c946d12b00000000000000000000000021b418dc4d87f88fa2602f92b1ea37c0ef28d64a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3256965e7c3cf26e11fcaf296dfc8807c01073000000000000000000000000495f947276749ce646f68ac8c248420045cb7b5e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004e20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b1a2bc2ec5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006075ddb00000000000000000000000000000000000000000000000000000000000000000bfa35fe93c8491752e28788ab5183620d33f1092507517a765e1c906f33f6ed400000000000000000000000000000000000000000000000000000000000004e20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b1a2bc2ec5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006075dd84000000000000000000000000000000000000000000000000000000000000000041b9ab5db3d2c7aeb8133507c77f17abfe3f85f5c5d5b3d60544a87bddd10aeb0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006a000000000000000000000000000000000000000000000000000000000000007a000000000000000000000000000000000000000000000000000000000000008a000000000000000000000000000000000000000000000000000000000000009a00000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000000000000000000000000000000000000000000ac0000000000000000000000000000000000000000000000000000000000000001c000000000000000000000000000000000000000000000000000000000000001c3e368e4c78226155c3afff9dd0927759ba6245e5646348bfa05f3c4ec803cc23402a42b6491cb93839c98150725bc9d3f9965601180b4b3c4f73b6e1e48927683e368e4c78226155c3afff9dd0927759ba6245e5646348bfa05f3c4ec803cc23402a42b6491cb93839c98150725bc9d3f9965601180b4b3c4f73b6e1e4892768cd2b3c517d3de4f962dc01700dc57960cdbeb5e900000000000000000000000000000000000000000000000000000000000000000000000000000000000000c4f242432a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f692f4a862679008bbf48cc0a7abdff12908f7921b418dc4d87f88fa2602f92b1ea37c0ef28d64a0000000000002f0000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c4f242432a00000000000000000000000021b418dc4d87f88fa2602f92b1ea37c0ef28d64a000000000000000000000000000000000000000000000000000000000000000021b418dc4d87f88fa2602f92b1ea37c0ef28d64a0000000000002f0000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c400000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c4000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");

//validateOrderParameters
//await testExchange.test(eraxExchange.address, "0xca595b9a0000000000000000000000005206e78b21ce315ce284fb24cf05e0585a93b1d900000000000000000000000068bb63a18d4ce3910c1caed94a2124f1227ce2160000000000000000000000009598706cc5daf1eac391d1ba4c2a18ce9bcd6eb70000000000000000000000005b3256965e7c3cf26e11fcaf296dfc8807c01073000000000000000000000000ee45b41d1ac24e9a620169994deb22739f64f2310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c778417e063141139fce010982780140aa0cd5ab000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001ed8674dcf93000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000608912340000000000000000000000000000000000000000000000000000000060986fb20961415d77a49af11d9f4435e12c6798af68e363a664e507b47527b166cbcae2000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002e000000000000000000000000000000000000000000000000000000000000003e000000000000000000000000000000000000000000000000000000000000004e000000000000000000000000000000000000000000000000000000000000000c4f242432a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000068bb63a18d4ce3910c1caed94a2124f1227ce21668bb63a18d4ce3910c1caed94a2124f1227ce216000000000000070000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");


//const testCopyAddress = await eraxExchange.testCopyAddress(owner.address);

//console.log("testCopyAddress");
//console.log(testCopyAddress);

//await testOwnableDelegateProxy.atomicMatch(addr1.address, addr2.address);

//await testOwnableDelegateProxy.atomicMatch(addr2.address, addr1.address);


//const Exchange = await ethers.getContractFactory("Exchange");
//const exchange = await Exchange.deploy();
//console.log("eraxTokenTransferProxy address:",exchange.address);


//console.log("ownableDelegateProxy1:", ownableDelegateProxy1);

//await greeter.setGreeting("Hola, mundo!");
//expect(await greeter.greet()).to.equal("Hola, mundo!");


//部署  EraxTokenTransferProxy
// const TestExchange = await ethers.getContractFactory("TestExchange");
// const testExchange = await TestExchange.deploy();
// console.log("testExchange address:",testExchange.address);

describe("EraxProxyRegistry", function() {
  it("EraxProxyRegistry is ok", async function() {



    //部署  TestExchange
    const TestExchange = await ethers.getContractFactory("TestExchange");
    const testExchange = await TestExchange.deploy();
    console.log("testExchange address:",testExchange.address);


    const result = await testExchange.test("0x2DB3232b4F9702e8AbDa96dbE81e9F6d52ed2a3f", "0xab834bab0000000000000000000000002db3232b4f9702e8abda96dbe81e9f6d52ed2a3f000000000000000000000000c2ea7d4cddd5b57f40c0fc696a554668d1c3e8d3000000000000000000000000200165fdc80c28f1090f017a14c10d834325d9780000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c8c55f9e6c5ac270f3bb2c074d488d48435b8a890000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bf2aa7021cedabb0db4ec81db05859285f09d4170000000000000000000000002db3232b4f9702e8abda96dbe81e9f6d52ed2a3f000000000000000000000000200165fdc80c28f1090f017a14c10d834325d9780000000000000000000000000000000000000000000000000000000000000000000000000000000000000000747750a9f2470e7da282366086570e1e85c41cf6000000000000000000000000c8c55f9e6c5ac270f3bb2c074d488d48435b8a890000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bf2aa7021cedabb0db4ec81db05859285f09d41700000000000000000000000000000000000000000000000000000000000004e20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000006f05b59d3b2000000000000000000000000000000000000000000000000000000000000609cdd2f00000000000000000000000000000000000000000000000000000000609cdf87303726733ff48ebefded6ae73ea8fe3f68af53f583b44395333c10b04c8525a300000000000000000000000000000000000000000000000000000000000004e20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000006f05b59d3b2000000000000000000000000000000000000000000000000000000000000609cdd2f00000000000000000000000000000000000000000000000000000000609cdf87ea1b16f702f5f5c8258531614728c09d79909cc2759b123cbf166a520f8b99610000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006a000000000000000000000000000000000000000000000000000000000000007a000000000000000000000000000000000000000000000000000000000000008a000000000000000000000000000000000000000000000000000000000000009a00000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000000000000000000000000000000000000000000ac0000000000000000000000000000000000000000000000000000000000000001b000000000000000000000000000000000000000000000000000000000000001c22521f3271230d081c5ffdc10685480d0e35062e7d87f81eacbd25d473e2f8322940094d5885a069c43081bb9bbaa68019ec814289d845c1da15c986aa8cd79606ed07e7143bdc6d7bb25f0a483dd3c2e26272c78c55bc869a11bee933de56472b51f52e0ffe2924455f77c0435de047b77ceb4b336255ac4720d1a0805320a9000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c4f242432a000000000000000000000000200165fdc80c28f1090f017a14c10d834325d978000000000000000000000000c2ea7d4cddd5b57f40c0fc696a554668d1c3e8d3200165fdc80c28f1090f017a14c10d834325d9780000000000000000609cdd2f000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c4f242432a000000000000000000000000200165fdc80c28f1090f017a14c10d834325d9780000000000000000000000000000000000000000000000000000000000000000200165fdc80c28f1090f017a14c10d834325d9780000000000000000609cdd2f000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c400000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c4000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");

    //console.log(result);

   // console.log("finished");


  });
});
